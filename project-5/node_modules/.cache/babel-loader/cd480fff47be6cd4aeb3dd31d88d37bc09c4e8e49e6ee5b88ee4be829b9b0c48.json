{"ast":null,"code":"import Swal from \"sweetalert2\";\nimport { createRegister, LoginAPI } from \"../services/LoginServices\";\nconst UsersReducer = async (state = [], action) => {\n  console.log(state, action);\n  switch (action.type) {\n    case \"CREATE_REGISTER\":\n      const result = await createRegister(action.info);\n      return state;\n    case \"LOGIN\":\n      try {\n        const response = await LoginAPI(action.email, action.password);\n        const {\n          token,\n          userInfo\n        } = response;\n        if (token) {\n          // Lưu token vào localStorage\n          localStorage.setItem('token', token);\n          Swal.fire({\n            title: \"Đăng Nhập thành công!\",\n            text: \"Chào mừng bạn đến với chúng tôi!\",\n            icon: \"success\",\n            confirmButtonText: \"OK\"\n          });\n          window.location.href = '/home'; // Chuyển hướng đến trang /home\n          return {\n            ...state,\n            user: userInfo,\n            // Lưu thông tin người dùng nếu cần\n            isAuthenticated: true\n          };\n        }\n      } catch (error) {\n        Swal.fire({\n          title: \"Đăng Nhập thất bại!\",\n          text: \"Thông tin đăng nhập không đúng.\",\n          icon: \"error\",\n          confirmButtonText: \"OK\"\n        });\n      }\n      return state;\n    default:\n      return state;\n  }\n};\n_c = UsersReducer;\nexport default UsersReducer;\nvar _c;\n$RefreshReg$(_c, \"UsersReducer\");","map":{"version":3,"names":["Swal","createRegister","LoginAPI","UsersReducer","state","action","console","log","type","result","info","response","email","password","token","userInfo","localStorage","setItem","fire","title","text","icon","confirmButtonText","window","location","href","user","isAuthenticated","error","_c","$RefreshReg$"],"sources":["D:/font-endt2/Project-mini-5/project-5/src/reducer/users.js"],"sourcesContent":["import Swal from \"sweetalert2\"; \r\nimport { createRegister, LoginAPI } from \"../services/LoginServices\";\r\n\r\nconst UsersReducer = async (state = [], action) => {\r\n    console.log(state, action);\r\n    switch (action.type) {\r\n        case \"CREATE_REGISTER\":\r\n            const result = await createRegister(action.info);\r\n            return state;\r\n        case \"LOGIN\":\r\n            try {\r\n                const response = await LoginAPI(action.email, action.password);\r\n                const { token, userInfo } = response;\r\n\r\n                if (token) {\r\n                    // Lưu token vào localStorage\r\n                    localStorage.setItem('token', token);\r\n\r\n                    Swal.fire({\r\n                        title: \"Đăng Nhập thành công!\",\r\n                        text: \"Chào mừng bạn đến với chúng tôi!\",\r\n                        icon: \"success\",\r\n                        confirmButtonText: \"OK\"\r\n                    });\r\n\r\n                    window.location.href = '/home'; // Chuyển hướng đến trang /home\r\n                    return {\r\n                        ...state,\r\n                        user: userInfo, // Lưu thông tin người dùng nếu cần\r\n                        isAuthenticated: true,\r\n                    };\r\n                }\r\n            } catch (error) {\r\n                Swal.fire({\r\n                    title: \"Đăng Nhập thất bại!\",\r\n                    text: \"Thông tin đăng nhập không đúng.\",\r\n                    icon: \"error\",\r\n                    confirmButtonText: \"OK\"\r\n                });\r\n            }\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default UsersReducer;\r\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,aAAa;AAC9B,SAASC,cAAc,EAAEC,QAAQ,QAAQ,2BAA2B;AAEpE,MAAMC,YAAY,GAAG,MAAAA,CAAOC,KAAK,GAAG,EAAE,EAAEC,MAAM,KAAK;EAC/CC,OAAO,CAACC,GAAG,CAACH,KAAK,EAAEC,MAAM,CAAC;EAC1B,QAAQA,MAAM,CAACG,IAAI;IACf,KAAK,iBAAiB;MAClB,MAAMC,MAAM,GAAG,MAAMR,cAAc,CAACI,MAAM,CAACK,IAAI,CAAC;MAChD,OAAON,KAAK;IAChB,KAAK,OAAO;MACR,IAAI;QACA,MAAMO,QAAQ,GAAG,MAAMT,QAAQ,CAACG,MAAM,CAACO,KAAK,EAAEP,MAAM,CAACQ,QAAQ,CAAC;QAC9D,MAAM;UAAEC,KAAK;UAAEC;QAAS,CAAC,GAAGJ,QAAQ;QAEpC,IAAIG,KAAK,EAAE;UACP;UACAE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,KAAK,CAAC;UAEpCd,IAAI,CAACkB,IAAI,CAAC;YACNC,KAAK,EAAE,uBAAuB;YAC9BC,IAAI,EAAE,kCAAkC;YACxCC,IAAI,EAAE,SAAS;YACfC,iBAAiB,EAAE;UACvB,CAAC,CAAC;UAEFC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,OAAO,CAAC,CAAC;UAChC,OAAO;YACH,GAAGrB,KAAK;YACRsB,IAAI,EAAEX,QAAQ;YAAE;YAChBY,eAAe,EAAE;UACrB,CAAC;QACL;MACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZ5B,IAAI,CAACkB,IAAI,CAAC;UACNC,KAAK,EAAE,qBAAqB;UAC5BC,IAAI,EAAE,iCAAiC;UACvCC,IAAI,EAAE,OAAO;UACbC,iBAAiB,EAAE;QACvB,CAAC,CAAC;MACN;MACA,OAAOlB,KAAK;IAChB;MACI,OAAOA,KAAK;EACpB;AACJ,CAAC;AAACyB,EAAA,GAzCI1B,YAAY;AA2ClB,eAAeA,YAAY;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}